@endpoint = https://projet-14-victory-zone-back-production.up.railway.app/api
@accessToken = {{login.response.body.$.data.accessToken}}
@refreshToken = {{login.response.body.$.data.refreshToken}}

### Connexion ADMIN
# @name login
POST {{endpoint}}/auth/login
content-type: application/json

{
    "email": "john@example.com",
    "password": "secret"
}

###

### Connexion NON ADMIN
# @name login
POST {{endpoint}}/auth/login
content-type: application/json

{
    "email": "michael@example.com",
    "password": "secret"
}

### REFRESH TOKEN FIRST TIME
# @name login
POST {{endpoint}}/auth/refresh-token
content-type: application/json
Authorization: Bearer {{accessToken}}

{
    "refreshToken": "{{refreshToken}}"
}
### Récupérer tous les article public pour la homepage
GET {{ endpoint }}/articles?home=true

### Récupérer tous les article public
GET {{ endpoint }}/articles

### Récupérer tous les article privé ADMIN
GET {{ endpoint }}/articles/admin
Authorization: Bearer {{accessToken}}

### Récupérer un article
GET {{ endpoint }}/articles/nouvel-article


### CREATION ARTICLE
POST {{ endpoint }}/articles/
content-type: application/json
Authorization: Bearer {{accessToken}}

{
  "slug": "nouvel-article",
  "title": "mon nouvel article",
  "content": "Ceci est le contenu de mon nouvel article",
  "author": "jack",
  "image": "https://projet-14-victory-zone-back-production.up.railway.app/image/carousel-3.webp",
  "publication_date": "2023-06-12 11:37:59.04144"
}

### MODIFICATION D'UN ARTICLE
PATCH {{ endpoint }}/articles/nouvel-article
content-type: application/json
Authorization: Bearer {{accessToken}}

{
  "content": "test"
}

### CREATION D'un lien entre un article et une category
POST {{ endpoint }}/articles/nouvel-article/category/1
Authorization: Bearer {{accessToken}}

### CREATION D'un lien entre un article et une calendar
POST {{ endpoint }}/articles/nouvel-article/calendar/1
Authorization: Bearer {{accessToken}}


### SUPPRESSION D'UN ARTICLE
DELETE {{endpoint}}/articles/nouvel-article
Authorization: Bearer {{accessToken}}


### SUPPRESSION D'un lien entre un joueur et un category
DELETE {{endpoint}}/articles/nouvel-article/category/1
Authorization: Bearer {{accessToken}}

### SUPPRESSION D'un lien entre un joueur et un calendar
DELETE {{endpoint}}/articles/nouvel-article/calendar/1
Authorization: Bearer {{accessToken}}

